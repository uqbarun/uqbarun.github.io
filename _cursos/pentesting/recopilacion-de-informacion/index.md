---
title: Recopilacion de información
chapter: 2
---

La recopilación de información es crucial en una prueba de penetración, ya que nos permite identificar vulnerabilidades y llevar a cabo ataques exitosos. Podemos obtener información a través de:

* la inteligencia de fuentes abiertas (OSINT)
* la enumeración de la infraestructura
* la enumeración de servicios
* la enumeración de hosts

Estas categorías deben abordarse en cada prueba de penetración, ya que la información se encuentra en diferentes lugares, como redes sociales, publicaciones de empleo y en los propios empleados. Tanto los humanos como los componentes de red intercambian información con un propósito específico, como almacenar datos o registrar información. La recopilación y análisis de información es fundamental para guiar el resto de los pasos en una prueba de penetración.

## OSINT

Open-Source Intelligence (OSINT) es el proceso de búsqueda de información disponible públicamente sobre una empresa o individuos en Internet. En una prueba de penetración, se utiliza OSINT para identificar eventos, dependencias internas y externas, y conexiones relevantes para el objetivo. Esta información se obtiene de fuentes abiertas y gratuitas. A menudo, se puede encontrar información sensible relacionada con la seguridad de las empresas y sus empleados.


## Enumeración de la infraestructura

Durante la enumeración de la infraestructura, utilizamos OSINT y escaneos activos para comprender la posición de la empresa en Internet y en su intranet. Creamos un mapa de servidores y hosts, identificando servidores de nombres, servidores de correo, servidores web, entre otros. Comparamos esta información con nuestro alcance para determinar su inclusión. También buscamos identificar medidas de seguridad, como cortafuegos de aplicaciones web, para entender qué técnicas podrían activar alarmas y cómo evitarlas. La enumeración puede realizarse tanto desde el exterior como desde el interior de la red, y nos permite identificar objetivos para ataques de Password Spraying, donde intentamos autenticarnos con múltiples nombres de usuario usando una contraseña, buscando obtener acceso a la red. Estos métodos y técnicas se analizan en detalle en módulos individuales.

## Enumeración de servicios

En la enumeración de servicios, identificamos los servicios que nos permiten interactuar con el host o servidor a través de la red (o localmente, desde una perspectiva interna). Es crucial obtener información sobre el servicio, como su versión, la información que proporciona y el propósito de su uso. Comprender el contexto y el propósito del servicio nos brinda varias opciones.

Muchos servicios tienen un historial de versiones que nos permite determinar si la versión instalada en el host o servidor está actualizada o no. Esto también nos ayuda a encontrar vulnerabilidades de seguridad que suelen persistir en versiones antiguas. Los administradores a menudo temen cambiar aplicaciones que funcionan, ya que esto podría afectar toda la infraestructura. Por lo tanto, suelen preferir aceptar el riesgo de dejar una o más vulnerabilidades abiertas y mantener la funcionalidad en lugar de cerrar las brechas de seguridad.

## Enumeración de Hosts

Una vez obtenida la lista detallada de la infraestructura del cliente, examinamos cada host o servidor. Identificamos el sistema operativo, servicios y versiones. Además de los escaneos activos, utilizamos métodos OSINT para obtener información sobre la configuración. Encontramos diversos servicios, como FTP, que pueden tener vulnerabilidades en versiones obsoletas. No importa si se examina desde el exterior o interior, encontramos servicios internos descuidados por su inaccesibilidad desde Internet. Durante la enumeración, determinamos la función del host y los servicios utilizados, así como los puertos. En la enumeración interna, buscamos archivos sensibles y servicios locales, parte esencial de la fase de Post-Explotación para elevar privilegios.

## Pillageo

Otro paso esencial es el pillaje. El pillaje se refiere al proceso de recopilar la mayor cantidad de datos posible de un sistema comprometido. Estos datos pueden incluir archivos, contraseñas, correos electrónicos y otra información confidencial. Después de pasar a la etapa de Post-Explotación, se realiza el pillaje para recopilar información confidencial localmente en el host ya explotado, como nombres de empleados, datos de clientes y mucho más. Sin embargo, esta recopilación de información solo ocurre después de explotar el host objetivo y obtener acceso a él. El atacante luego puede utilizar estos datos para obtener un mayor acceso al sistema, robar más datos o lanzar otros ataques.

La información que podemos obtener en los hosts explotados se puede dividir en muchas categorías diferentes y varía considerablemente. Esto depende del propósito del host y su ubicación en la red corporativa. Los administradores que toman las medidas de seguridad para estos hosts también desempeñan un papel importante. No obstante, esta información puede mostrar el impacto de un posible ataque en nuestro cliente y se puede utilizar para pasos adicionales, como escalar privilegios o moverse lateralmente en la red.

Algunas técnicas comunes utilizadas para el pillaje incluyen:

* Enumeración de archivos: Esto implica listar todos los archivos en el sistema y determinar cuáles son de interés para el atacante.
* Descifrado de contraseñas: Esto implica utilizar herramientas para intentar descifrar contraseñas almacenadas en el sistema.
* Recopilación de correos electrónicos: Esto implica recopilar direcciones de correo electrónico y otra información de contacto del sistema.
* Exfiltración de datos: Esto implica enviar los datos recopilados a una ubicación externa.
